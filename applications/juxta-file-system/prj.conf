# Copyright (c) 2024 NeurotechHub
# SPDX-License-Identifier: Apache-2.0
#
# Configuration for JUXTA File System Test Application

# Enable GPIO
CONFIG_GPIO=y

# Enable SPI for FRAM
CONFIG_SPI=y
CONFIG_SPI_NRFX=y

# Enable JUXTA FRAM Library
CONFIG_JUXTA_FRAM=y

# Enable JUXTA FRAM File System Library  
CONFIG_JUXTA_FRAMFS=y

# Enable ADC for battery monitoring
CONFIG_ADC=y
CONFIG_ADC_NRFX_SAADC=y

# Enable JUXTA Vitals Library
CONFIG_JUXTA_VITALS_NRF52=y

# Suppress Kconfig warnings that are treated as errors
CONFIG_LOG_BACKEND_RTT_MODE_DROP=y
CONFIG_SYS_HEAP_AUTO=y

# Enable logging with floating point support
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_CBPRINTF_FP_SUPPORT=y
CONFIG_LOG_BACKEND_FORMAT_TIMESTAMP=y

# RTT Configuration for reliable logging
CONFIG_USE_SEGGER_RTT=y
CONFIG_RTT_CONSOLE=y
CONFIG_CONSOLE=y
CONFIG_LOG_BACKEND_RTT=y
CONFIG_LOG_BACKEND_RTT_MODE_BLOCK=y
CONFIG_LOG_BACKEND_RTT_BUFFER=0
CONFIG_LOG_BACKEND_RTT_MESSAGE_SIZE=256
CONFIG_LOG_BACKEND_RTT_OUTPUT_BUFFER_SIZE=4096
CONFIG_SEGGER_RTT_BUFFER_SIZE_UP=4096
CONFIG_SEGGER_RTT_BUFFER_SIZE_DOWN=16
CONFIG_SEGGER_RTT_MODE_BLOCK_IF_FIFO_FULL=y

# Disable unused drivers
CONFIG_I2C=n
CONFIG_EEPROM=n

# Enable system workqueue for background tasks
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048

# Enable heap for dynamic allocations (if needed)
CONFIG_HEAP_MEM_POOL_SIZE=4096

# Increase main thread stack size to handle large data structures
CONFIG_MAIN_STACK_SIZE=4096 